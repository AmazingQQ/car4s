<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xiaoyu.car4s.mapper.MenuMapper"><!-- 权限定名 -->
	<!-- 开启二级缓存 -->
	<!-- <cache type="com.xiaoyu.car4s.utils.RedisCache"></cache> -->
	
	<select id="menuAll" parameterType="map" resultType="menu">
		select * from t_4s_menu where del_flag=1
			<if test="name !=null and name !=''">
				and name like concat ('%',#{name},'%')
			</if>
			<if test="parentId !=null">
				and parent_id=#{parentId}
			</if>
			<if test="useFlag !=null">
				and use_flag=#{useFlag}
			</if>
			<if test="mlevel !=null">
				and mlevel=#{mlevel}
			</if>
	</select>
	
	<update id="deleteMenu">
		update t_4s_menu set del_flag=0 where id in
		<foreach collection="array" item="id" open="(" separator="," close=")">
			#{id}
		</foreach>
	</update>	
		
		

	
	
</mapper>
